"use strict";const e=require("../common/vendor.js");function t(e){return"[object Object]"===Object.prototype.toString.call(e)}var r=/^(\d{4})?(\D)?(\d{2})(\D)?(\d{2})(\s(\d{2}):(\d{2}):(\d{2}))?$/;function n(e,t){var n=0,o=0;return r.test(e)&&r.test(t)?{compareA:e,compareB:t}:("string"==typeof e&&(n=Number(e)),"string"==typeof t&&(o=Number(t)),"number"==typeof e&&(n=e),"number"==typeof t&&(o=t),{compareA:n,compareB:o})}exports.dateFormat=function(e,t){void 0===t&&(t="yyyy-MM-dd");var r,n=function(e){if(e instanceof Date)return e;if("number"==typeof e)return new Date(e);var t="";"string"==typeof e&&(t=e);var r=t.match(/^(\d{4})(\D)?(\d{2})\2(\d{2})(\s(\d{2}):(\d{2}):(\d{2}))?$/)||[],n=t.match(/^(\d{4})\D?(\d{2})$/),o=new Date(""),a=0,s=0,c=1,i=0,u=0,p=0;if(r.length)a=parseInt(r[1],10),s=parseInt(r[3],10)-1,c=parseInt(r[4],10),i=parseInt(r[6],10)||0,u=parseInt(r[7],10)||0,p=parseInt(r[8],10)||0;else{if(!n)return o;a=parseInt(n[1],10),s=parseInt(n[2],10)-1}var g=new Date(a,s,c,i,u,p);return g.getFullYear()!==a||g.getMonth()!==s||g.getDate()!==c?o:g}(e),o=t;if(!((r=n)instanceof Date)||Number.isNaN(r.getTime()))return"";var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds(),w:n.getDay(),W:["日","一","二","三","四","五","六"][n.getDay()],T:"T"};return/(y+)/.test(o)&&(o=o.replace(RegExp.$1,String(n.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(a).forEach((function(e){new RegExp("(".concat(e,")")).test(o)&&(o=o.replace(RegExp.$1,1===RegExp.$1.length?a[e]:"00".concat(a[e]).substr(String(a[e]).length)))})),o},exports.delCookie=function(t,r){e.index.removeStorageSync(t)},exports.getCookie=function(t){return e.index.getStorageSync(t)},exports.sortCallback=function(e){void 0===e&&(e={});var r=e.type,o=void 0===r?"desc":r,a=e.key,s="desc"===o,c=1/0;return s&&(c=-1/0),function(e,r){var o=n(e,r),i=o.compareA,u=o.compareB;null==e&&(i=c),null==r&&(u=c),a&&t(e)&&t(r)&&(i=n(e[a],r[a]).compareA,u=n(e[a],r[a]).compareB,null!==e[a]&&void 0!==e[a]||(i=c),null!==r[a]&&void 0!==r[a]||(u=c)),Number.isNaN(i)&&(i=c),Number.isNaN(u)&&(u=c);var p=0,g=0;return u>i?p=1:u<i&&(p=-1),i>u?g=1:i<u&&(g=-1),s?p:g}};
