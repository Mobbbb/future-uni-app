"use strict";const e=require("../../../../common/vendor.js");const t=e.index.getSystemInfoSync();function n(e){let{SDKVersion:n,platform:o}=t;return"mac"!==o&&function(e,t){e=e.split("."),t=t.split(".");const n=Math.max(e.length,t.length);for(;e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(let o=0;o<n;o++){const n=parseInt(e[o],10),r=parseInt(t[o],10);if(n>r)return 1;if(n<r)return-1}return 0}(n,e)>=0}const o=e.index.getSystemInfoSync().pixelRatio;exports.canIUseCanvas2d=function(){return n("2.9.0")},exports.convertTouchesToArray=function(e){return Array.isArray(e)?e:"object"==typeof e&&null!==e?Object.values(e):e},exports.devicePixelRatio=o,exports.getRect=function(t,n={}){const o="boundingClientRect",{context:r,type:s=o}=n;return new Promise(((n,c)=>{const i=e.index.createSelectorQuery().in(r).select(t),u=e=>{e?n(e):c()};s==o?i[s](u).exec():i[s]({node:!0,size:!0,rect:!0},u).exec()}))},exports.sleep=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))},exports.wrapTouch=function(e){for(let t=0;t<e.touches.length;++t){const n=e.touches[t];n.offsetX=n.x,n.offsetY=n.y}return e};
